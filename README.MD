# YARU - N·ªÅn t·∫£ng H·ªçc ti·∫øng Nh·∫≠t (T√≠ch h·ª£p AI)

D·ª± √°n YARU l√† m·ªôt ·ª©ng d·ª•ng h·ªçc ti·∫øng Nh·∫≠t theo phong c√°ch "v·ª´a h·ªçc v·ª´a ch∆°i" (gamified), s·ª≠ d·ª•ng AI ƒë·ªÉ t·ª± ƒë·ªông x·ª≠ l√Ω video, t·∫°o ph·ª• ƒë·ªÅ v√† cung c·∫•p c√°c t√≠nh nƒÉng h·ªçc t·∫≠p t∆∞∆°ng t√°c.

## üìÅ C·∫•u tr√∫c D·ª± √°n

ƒê√¢y l√† m·ªôt Monorepo bao g·ªìm:

- **`frontend/`**: Next.js 14, TypeScript, Tailwind CSS.
- **`backend/`**: Python FastAPI, C√°c module x·ª≠ l√Ω AI.
- **`docs/`**: T√†i li·ªáu d·ª± √°n (PRD, Design System, Tech Stack, v.v.).
- **`docker/`**: C·∫•u h√¨nh Docker.

## üöÄ L·ªô tr√¨nh Ph√°t tri·ªÉn (MVP Roadmap)

### MVP 1: N·ªÅn T·∫£ng Video & Transcript (Foundation)
*M·ª•c ti√™u: Ng∆∞·ªùi xem c√≥ th·ªÉ upload video v√† xem v·ªõi ph·ª• ƒë·ªÅ th√¥.*

- [ ] **1.1. Backend Setup**: C·∫•u tr√∫c project FastAPI, k·∫øt n·ªëi Database PostgreSQL.
- [ ] **1.2. Upload API**: API upload video (`.mp4`) v√† l∆∞u tr·ªØ (Local/S3).
- [ ] **1.3. AI Processing (Basic)**: T√≠ch h·ª£p `OpenAI Whisper` ƒë·ªÉ t·∫°o file transcript t·ª´ video video.
- [ ] **1.4. Frontend Player (Basic)**: Video Player hi·ªÉn th·ªã video + danh s√°ch ph·ª• ƒë·ªÅ b√™n c·∫°nh (ch∆∞a c·∫ßn highlight t·ª´ng t·ª´).
- [ ] **1.5. Data Sync**: ƒê·ªìng b·ªô th·ªùi gian video ƒë·ªÉ highlight d√≤ng ph·ª• ƒë·ªÅ hi·ªán t·∫°i.

### MVP 2: H·ªçc t∆∞∆°ng t√°c & AI (Core Learning)
*M·ª•c ti√™u: Ng∆∞·ªùi d√πng c√≥ th·ªÉ tra t·ª´, l∆∞u t·ª´ v√† h·ªçc s√¢u.*

- [ ] **2.1. NLP Pipeline**: T√≠ch h·ª£p `MeCab` (t√°ch t·ª´) v√† t·ª´ ƒëi·ªÉn ƒë·ªÉ l·∫•y nghƒ©a, Furigana.
- [ ] **2.2. Interactive Dictionary**: Click v√†o t·ª´ tr√™n ph·ª• ƒë·ªÅ -> Hi·ªán popup nghƒ©a & Furigana.
- [ ] **2.3. Save Vocabulary**: API l∆∞u t·ª´ v·ª±ng k√®m ng·ªØ c·∫£nh (c√¢u, th·ªùi gian video) v√†o DB.
- [ ] **2.4. Pitch Accent**: Hi·ªÉn th·ªã cao ƒë·ªô (n·∫øu c√≥ th·ªÉ t√≠ch h·ª£p th∆∞ vi·ªán NLP ph√π h·ª£p).
- [ ] **2.5. Search**: T√¨m ki·∫øm video theo ti√™u ƒë·ªÅ ƒë∆°n gi·∫£n.

### MVP 3: Gamification & Quiz (Engagement)
*M·ª•c ti√™u: Gi·ªØ ch√¢n ng∆∞·ªùi d√πng b·∫±ng game h√≥a v√† b√†i t·∫≠p.*

- [ ] **3.1. Quiz System**: Backend t·∫°o c√¢u h·ªèi tr·∫Øc nghi·ªám t·ª± ƒë·ªông (ho·∫∑c th·ªß c√¥ng) t·∫°i c√°c ƒëi·ªÉm ch·ªët.
- [ ] **3.2. Quiz UI**: Popup tr·∫Øc nghi·ªám khi video d·ª´ng, ch·∫∑n xem ti·∫øp n·∫øu ch∆∞a tr·∫£ l·ªùi (t√πy ch·ªçn).
- [ ] **3.3. XP & Streak**: H·ªá th·ªëng t√≠nh ƒëi·ªÉm XP khi xem xong video/tr·∫£ l·ªùi ƒë√∫ng.
- [ ] **3.4. User Profile**: Trang c√° nh√¢n hi·ªÉn th·ªã Level, Rank, S·ªë ng√†y h·ªçc li√™n t·ª•c.

### MVP 4: C·ªông ƒë·ªìng & AI N√¢ng cao (Community & Advanced)
*M·ª•c ti√™u: M·ªü r·ªông k·∫øt n·ªëi v√† t√≠nh nƒÉng th√¥ng minh.*

- [ ] **4.1. Community Feed**: B·∫£ng tin chia s·∫ª th√†nh t√≠ch, b√¨nh lu·∫≠n d∆∞·ªõi video.
- [ ] **4.2. Chatbot AI**: T√≠ch h·ª£p LLM ƒë·ªÉ gi·∫£i th√≠ch ng·ªØ ph√°p khi user h·ªèi.
- [ ] **4.3. Shadowing Mode**: Thu √¢m gi·ªçng ng∆∞·ªùi d√πng v√† ph√°t l·∫°i so s√°nh.

---

## üöÄ B·∫Øt ƒë·∫ßu (Getting Started)

### Y√™u c·∫ßu c√†i ƒë·∫∑t (Prerequisites)

- **Node.js** (v18+)
- **Python** (3.10+)
- **Docker** (T√πy ch·ªçn, ƒë·ªÉ ch·∫°y full stack v·ªõi Database)

### 1. C√†i ƒë·∫∑t v√† Ch·∫°y v·ªõi Docker (Khuy√™n d√πng)

ƒê√¢y l√† c√°ch nhanh nh·∫•t ƒë·ªÉ ch·∫°y to√†n b·ªô h·ªá th·ªëng (Frontend + Backend + Database).

**Y√™u c·∫ßu:** ƒê√£ c√†i ƒë·∫∑t [Docker Desktop](https://www.docker.com/products/docker-desktop/) v√† ƒëang b·∫≠t.

#### B∆∞·ªõc 1: C·∫•u h√¨nh m√¥i tr∆∞·ªùng
Copy file m·∫´u v√† t·∫°o file `.env` cho backend:
```bash
# T·∫°i th∆∞ m·ª•c g·ªëc ho·∫∑c backend/
cp backend/.env.example backend/.env
# Tr√™n Windows CMD: copy backend\.env.example backend\.env
```

#### B∆∞·ªõc 2: Kh·ªüi ch·∫°y
T·∫°i th∆∞ m·ª•c g·ªëc c·ªßa d·ª± √°n:
```bash
docker-compose up -d --build
```
L·ªánh n√†y s·∫Ω:
- Start Database PostgreSQL (Port 5432)
- Start Backend FastAPI (Port 8000)

#### B∆∞·ªõc 3: Ch·∫°y Database Migration (L·∫ßn ƒë·∫ßu)
Sau khi container ƒë√£ ch·∫°y, b·∫°n c·∫ßn kh·ªüi t·∫°o b·∫£ng v√†o Database:
```bash
# T·∫°o migration ƒë·∫ßu ti√™n (n·∫øu ch∆∞a c√≥)
docker-compose exec backend alembic revision --autogenerate -m "Init"

# Ch·∫°y migration (c·∫≠p nh·∫≠t DB)
docker-compose exec backend alembic upgrade head
```

#### B∆∞·ªõc 4: Ki·ªÉm tra
- **Backend API**: [http://localhost:8000](http://localhost:8000)
- **API Docs**: [http://localhost:8000/docs](http://localhost:8000/docs)
- **Health Check**: [http://localhost:8000/api/v1/health/db](http://localhost:8000/api/v1/health/db)

---

### 2. C√†i ƒë·∫∑t Th·ªß c√¥ng (Manual Setup)
N·∫øu b·∫°n mu·ªën ch·∫°y manual t·ª´ng ph·∫ßn (v√≠ d·ª• Frontend ri√™ng):

#### Backend (FastAPI)
```bash
cd backend
python -m venv venv
.\venv\Scripts\activate
pip install -r requirements.txt
uvicorn main:app --reload
```

### 2. C√†i ƒë·∫∑t Frontend (Next.js)

```bash
cd frontend

# C√†i ƒë·∫∑t dependencies
npm install

# Ch·∫°y Server Development
npm run dev
```

> Frontend s·∫Ω ch·∫°y t·∫°i: `http://localhost:3000`

## üìö T√†i li·ªáu tham kh·∫£o

Xem th∆∞ m·ª•c `docs/` ƒë·ªÉ bi·∫øt th√¥ng tin chi ti·∫øt:

- [PRD (Y√™u c·∫ßu s·∫£n ph·∫©m)](./docs/PRD.MD)
- [Design System (H·ªá th·ªëng thi·∫øt k·∫ø)](./docs/DesignSystem.MD)
- [Project Structure (C·∫•u tr√∫c d·ª± √°n)](./docs/ProjectStructure.MD)
- [Tech Stack (C√¥ng ngh·ªá s·ª≠ d·ª•ng)](./docs/TECHSTACK.MD)
- [User Flow (Lu·ªìng ng∆∞·ªùi d√πng)](./docs/USERFLOW.MD)

## üõ† T√≠nh nƒÉng ch√≠nh

- **Gamification**: H·ªá th·ªëng XP, Rank, Chu·ªói ng√†y h·ªçc (Streak).
- **Video Learning**: Ph·ª• ƒë·ªÅ th√¥ng minh, Furigana, Cao ƒë·ªô (Pitch Accent).
- **T√≠ch h·ª£p AI**: Whisper (STT), GPT-4o-mini (Gi·∫£i th√≠ch ng·ªØ ph√°p), Vector Search.
- **C·ªông ƒë·ªìng**: Th·∫£o lu·∫≠n & Chia s·∫ª th√†nh t√≠ch.
